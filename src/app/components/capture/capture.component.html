<div class="page-container">
  <h2 class="page-title">专砖转 拽转 拽爪</h2>

  <!-- 专住 住住 -->
  <div class="status-cards">
    <div class="card border-blue">
      <div class="value">12</div>
      <div class="label">转</div>
    </div>
 <div class="card border-yellow">
      <div class="value">3</div>
      <div class="label">转</div>
    </div>
    
    <div class="card border-green">
      <div class="value">145</div>
      <div class="label">爪</div>
    </div>
   
    <div class="card border-red">
      <div class="value">8</div>
      <div class="label">砖</div>
    </div>
  </div>
<div class="card filters-card">
  <!--  驻专 -->

  <!-- 驻专 -->
  <div class="filters">
    <input type="date" [(ngModel)]="startDate" />
    <input type="date" [(ngModel)]="endDate" />
    <select [(ngModel)]="selectedSystem">
      <option value=""> 注专转</option>
      <option value="注专转 注">注专转 注</option>
      <option value="注专转 专">注专转 专</option>
      <option value="注专转 转专转">注专转 转专转</option>
    </select>
    <select [(ngModel)]="selectedSource">
      <option value=""> 拽专转</option>
      <option value="拽转 注 住爪">拽转 注 住爪</option>
      <option value="拽转 砖专转">拽转 砖专转</option>
      <option value="拽转 转 ">拽转 转 </option>
    </select>
    <select [(ngModel)]="selectedStatus">
      <option value=""> 住住</option>
      <option value="success">爪</option>
      <option value="in-progress">转</option>
      <option value="error">砖</option>
      <option value="pending"></option>
    </select>
    <input type="text" [(ngModel)]="searchTerm" placeholder="砖 拽抓..." />
    <button class="btn-search">驻砖
    </button>
    <button class="btn-reset">驻住 驻专
        <span class="material-icons">refresh</span>

    </button>
    <label>
      <input type="checkbox" [(ngModel)]="onlyErrors" />
      爪 专拽 拽转 注 砖转
    </label>
  </div>
</div>
<div class="card table-card">
  <div class="table-header">
    <button mat-raised-button color="primary" (click)="exportToExcel()">
       <span class="material-icons">download</span>
      <!-- <mat-icon>download</mat-icon> -->
      爪 拽住
    </button>
  </div>

<div class="card table-card">
  <!--  -->
  <table  class="data-table">
    <thead>
      <tr>
        <th>" 拽</th>
        <th>转专 拽专</th>
        <th>注专转</th>
        <th>砖 拽抓</th>
        <th>转转 拽</th>
        <th> 住 拽 </th>
        <th>砖专转 拽抓</th>
        <th> 砖专转 砖拽</th>
        <th>砖专转 驻转 </th>
        <th>住住</th>
        <th>驻注转</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of filteredData"
          (contextmenu)="onContextMenu($event, item)"
          (dblclick)="onRowDoubleClick(item)">
        <td>{{ item.id }}</td>
        <td>{{ item.source }}</td>
        <td>{{ item.system }}</td>
        <td>{{ item.fileName }}</td>
        <td>{{ item.startDate }}</td>
        <td>{{ item.endDate }}</td>
        <td>{{ item.total }}</td>
        <td>{{ item.loaded }}</td>
        <td>{{ item.failed }}</td>
        <td>
          <span class="status-tag"
                [ngClass]="{
                  'success': item.status === 'success',
                  'error': item.status === 'error',
                  'yellow': item.status === 'in-progress',
                  'gray': item.status === 'pending'
                }">
            {{ item.statusLabel }}
          </span>
        </td>
        <td>拽抓 砖转</td>
      </tr>
<!-- 转驻专 拽拽住 -->
<div *ngIf="contextMenuVisible"
     class="context-menu"
     [ngStyle]="{ top: contextMenuY + 'px', left: contextMenuX + 'px', position: 'fixed', 'z-index': 1000 }"
     (click)="$event.stopPropagation()">
  <div class="context-menu-list">
    <div class="context-menu-item" (click)="viewDetails()">
      <span class="icon"></span>
      爪驻 驻专 拽
    </div>
    <div class="context-menu-item" (click)="viewRows()">
      <span class="icon"></span>
      爪驻 驻专 砖专转 拽
    </div>
    <div class="context-menu-item" (click)="viewErrors()">
      <span class="icon">锔</span>
      爪驻 砖转
    </div>
    <div class="context-menu-item" (click)="downloadErrorReport()">
      <span class="icon">Ч</span>
      专转  砖转
    </div>
    <div class="context-menu-item" (click)="openFilePath()">
      <span class="icon"></span>
      驻转转 转 拽抓 专 注
    </div>
    <div class="context-menu-item" (click)="showLogs()">
      <span class="icon"></span>
      爪转 
    </div>
  </div>
</div>
<!-- 住拽专驻 住专转 转驻专 爪 抓 -->
<div (click)="onDocumentClick($event)" style="position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999" *ngIf="contextMenuVisible"></div>
    </tbody>
  </table>
  </div>

</div>
</div>

